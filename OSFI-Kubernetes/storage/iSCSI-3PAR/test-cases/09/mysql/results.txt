Events:        <none>
NAME      TYPE        CLUSTER-IP   EXTERNAL-IP   PORT(S)    AGE
mysql     ClusterIP   None         <none>        3306/TCP   14m
NAME                     READY     STATUS    RESTARTS   AGE       IP            NODE
mysql-6d88ccbb45-stshx   1/1       Running   0          14m       10.244.4.20   lablcactus13

--------------------------------------------------------------------------------------------------------

# kubectl run -it --rm --image=mysql:5.6 -n ns-iscsi1  --restart=Never mysql-client -- mysql -h mysql -ppassword
If you don't see a command prompt, try pressing enter.

mysql> show databases;
+---------------------+
| Database            |
+---------------------+
| information_schema  |
| #mysql50#lost+found |
| mysql               |
| performance_schema  |
+---------------------+
4 rows in set (0.00 sec)

mysql> create database test_case_09
    -> ;
Query OK, 1 row affected (0.00 sec)

mysql> show databases;
+---------------------+
| Database            |
+---------------------+
| information_schema  |
| #mysql50#lost+found |
| mysql               |
| performance_schema  |
| test_case_09        |
+---------------------+
5 rows in set (0.00 sec)

mysql> use test_case_09;
Database changed
mysql> CREATE TABLE shop (
    ->     article INT(4) UNSIGNED ZEROFILL DEFAULT '0000' NOT NULL,
    ->     dealer  CHAR(20)                 DEFAULT ''     NOT NULL,
    ->     price   DOUBLE(16,2)             DEFAULT '0.00' NOT NULL,
    ->     PRIMARY KEY(article, dealer));
Query OK, 0 rows affected (0.01 sec)

mysql> show tables;
+------------------------+
| Tables_in_test_case_09 |
+------------------------+
| shop                   |
+------------------------+
1 row in set (0.00 sec)

mysql> INSERT INTO shop VALUES
    ->     (1,'A',3.45),(1,'B',3.99),(2,'A',10.99),(3,'B',1.45),
    ->     (3,'C',1.69),(3,'D',1.25),(4,'D',19.95);
Query OK, 7 rows affected (0.00 sec)
Records: 7  Duplicates: 0  Warnings: 0

mysql> SELECT * FROM shop;
+---------+--------+-------+
| article | dealer | price |
+---------+--------+-------+
|    0001 | A      |  3.45 |
|    0001 | B      |  3.99 |
|    0002 | A      | 10.99 |
|    0003 | B      |  1.45 |
|    0003 | C      |  1.69 |
|    0003 | D      |  1.25 |
|    0004 | D      | 19.95 |
+---------+--------+-------+
7 rows in set (0.00 sec)
-------------------------------------------------------------------------------------------------------------------------------
# kubectl delete po mysql-6d88ccbb45-stshx -n ns-iscsi1
pod "mysql-6d88ccbb45-stshx" deleted
root@lablcactus05:/root/iscsi-test/chap/test-cases/09/mysql
# kubectl get po  -n ns-iscsi1
NAME                     READY     STATUS    RESTARTS   AGE
mysql-6d88ccbb45-jq2s7   1/1       Running   0          21s
root@lablcactus05:/root/iscsi-test/chap/test-cases/09/mysql
# kubectl get po  -n ns-iscsi1 -o wide
NAME                     READY     STATUS    RESTARTS   AGE       IP            NODE
mysql-6d88ccbb45-jq2s7   1/1       Running   0          26s       10.244.3.21   lablcactus12.uhclab.lab

-------------------------------------------------------------------------------------------------------------------------------

# kubectl run -it --rm --image=mysql:5.6 -n ns-iscsi1  --restart=Never mysql-client -- mysql -h mysql -ppassword
If you don't see a command prompt, try pressing enter.

mysql> show databases;
+---------------------+
| Database            |
+---------------------+
| information_schema  |
| #mysql50#lost+found |
| mysql               |
| performance_schema  |
| test_case_09        |
+---------------------+
5 rows in set (0.00 sec)

mysql> use test_case_09;
Reading table information for completion of table and column names
You can turn off this feature to get a quicker startup with -A

Database changed
mysql> show tables;
+------------------------+
| Tables_in_test_case_09 |
+------------------------+
| shop                   |
+------------------------+
1 row in set (0.00 sec)

mysql> select * from shop;
+---------+--------+-------+
| article | dealer | price |
+---------+--------+-------+
|    0001 | A      |  3.45 |
|    0001 | B      |  3.99 |
|    0002 | A      | 10.99 |
|    0003 | B      |  1.45 |
|    0003 | C      |  1.69 |
|    0003 | D      |  1.25 |
|    0004 | D      | 19.95 |
+---------+--------+-------+
7 rows in set (0.00 sec)


