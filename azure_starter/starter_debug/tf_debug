module.subnet.network_security_group.nsg_diagnostic_log.null_resource.diagnostic_log: Still creating... (30s elapsed)
module.subnet.azurerm_subnet.subnet: Still creating... (10s elapsed)
module.subnet.azurerm_subnet.subnet: Creation complete after 11s (ID: /subscriptions/e480a2a1-a59c-4b77-aa21-...m6ko0pt/subnets/redbox_subnet-jm6ko0pt)
azurerm_network_security_rule.network_security_rule: Creating...
  access:                      "" => "Allow"
  description:                 "" => "An example network security rule."
  destination_address_prefix:  "" => "10.0.1.0/24"
  destination_port_range:      "" => "443"
  direction:                   "" => "Inbound"
  name:                        "" => "ExampleRule"
  network_security_group_name: "" => "redbox_nsg-jm6ko0pt"
  priority:                    "" => "200"
  protocol:                    "" => "Tcp"
  resource_group_name:         "" => "ldobbal2-01"
  source_address_prefix:       "" => "Internet"
  source_port_range:           "" => "*"
azurerm_network_security_rule.network_security_rule: Creation complete after 1s (ID: /subscriptions/e480a2a1-a59c-4b77-aa21-...nsg-jm6ko0pt/securityRules/ExampleRule)

Error: Error applying plan:

1 error(s) occurred:

* module.subnet.module.network_security_group.module.nsg_diagnostic_log.null_resource.diagnostic_log: Error running command 'az monitor diagnostic-settings create --resource /subscriptions/e480a2a1-a59c-4b77-aa21-ffcbc8243f5f/resourceGroups/ldobbal2-01/providers/Microsoft.Network/networkSecurityGroups/redbox_nsg-jm6ko0pt --name default_diagnostic_logs --event-hub /subscriptions/291875c5-95ae-4c48-a60b-2f3b0fcf0174/resourceGroups/LoggingEventHub-centralus/providers/Microsoft.EventHub/namespaces/centralus-291875c5 --event-hub-rule /subscriptions/291875c5-95ae-4c48-a60b-2f3b0fcf0174/resourceGroups/LoggingEventHub-centralus/providers/Microsoft.EventHub/namespaces/centralus-291875c5/authorizationrules/RootManageSharedAccessKey --logs '[{"category":"NetworkSecurityGroupRuleCounter","enabled":true},{"category":"NetworkSecurityGroupEvent","enabled":true}]'
': exit status 1. Output: ERROR: The client 'ldobbal2@entid.optumhub.net' with object id 'b0242822-775a-419e-9c4f-e0f0698b9017' has permission to perform action 'microsoft.insights/diagnosticSettings/write' on scope '/subscriptions/e480a2a1-a59c-4b77-aa21-ffcbc8243f5f/resourceGroups/ldobbal2-01/providers/Microsoft.Network/networkSecurityGroups/redbox_nsg-jm6ko0pt/providers/microsoft.insights/diagnosticSettings/default_diagnostic_logs'; however, it does not have permission to perform action 'Microsoft.EventHub/namespaces/authorizationrules/listkeys/action' on the linked scope(s) '/subscriptions/291875c5-95ae-4c48-a60b-2f3b0fcf0174/resourceGroups/LoggingEventHub-centralus/providers/Microsoft.EventHub/namespaces/centralus-291875c5/authorizationrules/RootManageSharedAccessKey'.. [Code: "LinkedAuthorizationFailed"]


Terraform does not automatically rollback in the face of errors.
Instead, your Terraform state file has been partially updated with
any resources that successfully completed. Please address the error
above and apply again to incrementally change your infrastructure
